{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/react-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/var/www/html/react-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/var/www/html/react-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/var/www/html/react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./styles.scss\";import{Stack,Typography,Box}from'@mui/material';import{ACTION_PAGELOADER,ACTION_ACTIONMESSAGE}from\"../../../Store/action\";import{useLocation}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{ACTION_SHOWAUTHENTICATIONPOPUP}from\"../../../Store/action\";import axios from\"axios\";import{customer}from\"../../../Utilities/Constant\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(){var dispatch=useDispatch();var location=useLocation();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSuccess=_useState2[0],setIsSuccess=_useState2[1];var _useState3=useState({confirmationKey:location===null||location===void 0?void 0:location.search.replace('?key=','')}),_useState4=_slicedToArray(_useState3,2),confirmKey=_useState4[0],setConfirmKey=_useState4[1];// Confirmail API\nvar Action_Confirmail=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(confirmKey,dispatch,setConfirmKey,setIsSuccess){var _Response$data$,Response,_Response$data$2;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(ACTION_PAGELOADER(true));_context.prev=1;_context.next=4;return axios.post(\"\".concat(customer(),\"confirm/email\"),confirmKey);case 4:Response=_context.sent;dispatch(ACTION_PAGELOADER(false));if((Response===null||Response===void 0?void 0:(_Response$data$=Response.data[0])===null||_Response$data$===void 0?void 0:_Response$data$.code)==200){setConfirmKey(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{confirmKey:\"\"});});setIsSuccess(true);}else{dispatch(ACTION_ACTIONMESSAGE({isSuccess:false,isWarning:false,isError:true,title:\"Account create\",message:Response===null||Response===void 0?void 0:(_Response$data$2=Response.data[0])===null||_Response$data$2===void 0?void 0:_Response$data$2.message,showPopup:true,redirect:\"/\"}));}_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);dispatch(ACTION_PAGELOADER(false));case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function Action_Confirmail(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();useEffect(function(){Action_Confirmail(confirmKey,dispatch,setConfirmKey,setIsSuccess);},[]);useEffect(function(){if(isSuccess){setTimeout(function(){dispatch(ACTION_SHOWAUTHENTICATIONPOPUP({loginReg:true,forgotPas:false,resetPass:false}));},4000);}},[isSuccess]);return/*#__PURE__*/_jsx(Stack,{className:\"accountsuccess\",children:/*#__PURE__*/_jsx(Stack,{className:\"container\",children:/*#__PURE__*/_jsxs(Stack,{className:\"row\",children:[/*#__PURE__*/_jsx(Box,{className:\"imagesection\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"50.82\",height:\"50.82\",viewBox:\"0 0 50.82 50.82\",children:/*#__PURE__*/_jsx(\"path\",{id:\"_48116925ae3a82eb626852f6dfabe743\",\"data-name\":\"48116925ae3a82eb626852f6dfabe743\",d:\"M73.41,48A25.41,25.41,0,1,0,98.82,73.41,25.406,25.406,0,0,0,73.41,48ZM69.488,82.413a1.685,1.685,0,0,1-1.075.538,1.761,1.761,0,0,1-1.087-.55L60.485,75.56l2.175-2.174,5.766,5.766L83.672,63.8l2.138,2.211Z\",transform:\"translate(-48 -48)\",fill:\"#1c9c17\"})})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",className:\"title\",children:\"Thank you for registering with Sri Swaminathan & Co.\"}),/*#__PURE__*/_jsx(Typography,{className:\"success-message\",children:\"Your account has been successfully created.\"})]})})});};export default Index;","map":{"version":3,"names":["React","useEffect","useState","Stack","Typography","Box","ACTION_PAGELOADER","ACTION_ACTIONMESSAGE","useLocation","useDispatch","ACTION_SHOWAUTHENTICATIONPOPUP","axios","customer","Index","dispatch","location","isSuccess","setIsSuccess","confirmationKey","search","replace","confirmKey","setConfirmKey","Action_Confirmail","post","Response","data","code","prevState","isWarning","isError","title","message","showPopup","redirect","console","log","setTimeout","loginReg","forgotPas","resetPass"],"sources":["/var/www/html/react-project/src/Pages/UserAuth/AccountSuccess/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./styles.scss\";\nimport { Stack, Typography, Box } from '@mui/material';\nimport { ACTION_PAGELOADER, ACTION_ACTIONMESSAGE  } from \"../../../Store/action\";\nimport { useLocation } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { ACTION_SHOWAUTHENTICATIONPOPUP } from \"../../../Store/action\";\nimport axios from \"axios\";\nimport {customer} from \"../../../Utilities/Constant\";\n\nconst Index = () => {\n    const dispatch = useDispatch();\n    const location = useLocation();\n    const [isSuccess, setIsSuccess] = useState(false);\n    const [confirmKey, setConfirmKey] = useState({\n        confirmationKey: location?.search.replace('?key=', '')\n    })\n    // Confirmail API\n    const Action_Confirmail = async (confirmKey, dispatch, setConfirmKey, setIsSuccess) => {\n        dispatch(ACTION_PAGELOADER(true))\n        try {\n            const Response = await axios.post(`${customer()}confirm/email`, confirmKey);\n            dispatch(ACTION_PAGELOADER(false))\n            if (Response?.data[0]?.code == 200) {\n                setConfirmKey((prevState) => ({\n                    ...prevState,\n                    confirmKey: \"\"\n                }))\n                setIsSuccess(true);\n            } else {\n                dispatch(ACTION_ACTIONMESSAGE({\n                    isSuccess: false,\n                    isWarning: false,\n                    isError: true,\n                    title: \"Account create\",\n                    message: Response?.data[0]?.message,\n                    showPopup: true,\n                    redirect: \"/\"\n                }))\n            }\n        } catch (err) {\n            console.log(err)\n            dispatch(ACTION_PAGELOADER(false))\n        }\n    }\n    useEffect(() => {\n        Action_Confirmail(confirmKey, dispatch, setConfirmKey, setIsSuccess)\n    }, [])\n    useEffect(() => {\n        if (isSuccess) {\n            setTimeout(() => {\n                dispatch(ACTION_SHOWAUTHENTICATIONPOPUP({\n                    loginReg: true,\n                    forgotPas: false,\n                    resetPass: false\n                }))\n            }, 4000)\n        }\n    }, [isSuccess])\n    return (\n        <Stack className=\"accountsuccess\">\n            <Stack className='container'>\n                <Stack className='row'>\n                    <Box className=\"imagesection\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50.82\" height=\"50.82\" viewBox=\"0 0 50.82 50.82\">\n                            <path id=\"_48116925ae3a82eb626852f6dfabe743\" data-name=\"48116925ae3a82eb626852f6dfabe743\" d=\"M73.41,48A25.41,25.41,0,1,0,98.82,73.41,25.406,25.406,0,0,0,73.41,48ZM69.488,82.413a1.685,1.685,0,0,1-1.075.538,1.761,1.761,0,0,1-1.087-.55L60.485,75.56l2.175-2.174,5.766,5.766L83.672,63.8l2.138,2.211Z\" transform=\"translate(-48 -48)\" fill=\"#1c9c17\" />\n                        </svg>\n                    </Box>\n                    <Typography variant='h4' className=\"title\">Thank you for registering with Sri Swaminathan & Co.</Typography>\n                    <Typography className=\"success-message\">Your account has been successfully created.</Typography>\n                </Stack>\n            </Stack>\n        </Stack>\n    )\n}\n\nexport default Index"],"mappings":"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"},"metadata":{},"sourceType":"module"}