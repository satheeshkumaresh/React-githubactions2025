{"ast":null,"code":"import _slicedToArray from\"/var/www/html/react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Stack}from'@mui/material';import React,{useEffect,useState}from'react';import\"./styles.scss\";import Breadcrumbs from'./Breadcrumbs';import Media from'./Media';import Samecategory from\"./Samecategory\";import Details from\"./Details\";import Relatedproducts from\"./Relatedproducts\";import{useDispatch,useSelector}from'react-redux';import{useLocation,useNavigate}from'react-router-dom';import{productAPI}from\"./APIList\";import Pageloader from\"../../Loader/Pageloader\";import{Helmet}from\"react-helmet-async\";import Errorpage from\"../../../Pages/UserAuth/Errorpage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Index=function Index(){var _location$state,_location$pathname,_window,_window$location,_window$location$path,_window2,_window2$location,_window2$location$pat,_productData$product5,_productData$product6,_productData$product7,_productData$product8,_productData$product9,_productData$product10,_productData$product11,_productData$from_sam,_productData$related_;var dispatch=useDispatch();var location=useLocation();var navigate=useNavigate();//     let { search } = useLocation();\n// console.log(\"search\",search);\n//     const query = new URLSearchParams(search);\n//     console.log(\"search query\",query.get('id'));\nvar entityId=location===null||location===void 0?void 0:(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from;// query.get('id')\n// location?.state?.from ;\nconsole.log(\"data entity\",entityId);var _useSelector=useSelector(function(state){var _state$productData,_state$productData$,_state$productData$$d;return{productData:state===null||state===void 0?void 0:(_state$productData=state.productData)===null||_state$productData===void 0?void 0:(_state$productData$=_state$productData[0])===null||_state$productData$===void 0?void 0:(_state$productData$$d=_state$productData$.data)===null||_state$productData$$d===void 0?void 0:_state$productData$$d[0]};}),productData=_useSelector.productData;var _useState=useState(location===null||location===void 0?void 0:(_location$pathname=location.pathname)===null||_location$pathname===void 0?void 0:_location$pathname.slice(1)),_useState2=_slicedToArray(_useState,2),urlKey=_useState2[0],setUrlKey=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),pdpLoader=_useState4[0],setPdpLoader=_useState4[1];var isCategory=(_window=window)===null||_window===void 0?void 0:(_window$location=_window.location)===null||_window$location===void 0?void 0:(_window$location$path=_window$location.pathname)===null||_window$location$path===void 0?void 0:_window$location$path.slice(-13);var isSearch=(_window2=window)===null||_window2===void 0?void 0:(_window2$location=_window2.location)===null||_window2$location===void 0?void 0:(_window2$location$pat=_window2$location.pathname)===null||_window2$location$pat===void 0?void 0:_window2$location$pat.slice(0,7);var isPlp=isCategory===\"category.html\"||isSearch===\"/search\";var _useState5=useState({productName:\"\",meta_title:\"\",meta_description:\"\",meta_keyword:\"\"}),_useState6=_slicedToArray(_useState5,2),metaData=_useState6[0],setMetaData=_useState6[1];useEffect(function(){var _location$pathname2;setUrlKey(location===null||location===void 0?void 0:(_location$pathname2=location.pathname)===null||_location$pathname2===void 0?void 0:_location$pathname2.slice(1));},[location===null||location===void 0?void 0:location.pathname]);useEffect(function(){console.log(\"data entity\",entityId);},[entityId]);useEffect(function(){if(isPlp===false){productAPI(dispatch,urlKey,entityId,navigate,setPdpLoader);}},[urlKey]);useEffect(function(){var _productData$product,_productData$product2,_productData$product3,_productData$product4;setMetaData({productName:productData===null||productData===void 0?void 0:(_productData$product=productData.product)===null||_productData$product===void 0?void 0:_productData$product.name,meta_title:productData===null||productData===void 0?void 0:(_productData$product2=productData.product)===null||_productData$product2===void 0?void 0:_productData$product2.name,meta_description:productData===null||productData===void 0?void 0:(_productData$product3=productData.product)===null||_productData$product3===void 0?void 0:_productData$product3.meta_description,meta_keyword:productData===null||productData===void 0?void 0:(_productData$product4=productData.product)===null||_productData$product4===void 0?void 0:_productData$product4.meta_keyword});},[productData]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"meta\",{charSet:\"utf-8\"}),/*#__PURE__*/_jsx(\"title\",{children:\"Sri Swaminathan & Co Kumbakonam |  \".concat(metaData!==null&&metaData!==void 0&&metaData.meta_title?metaData===null||metaData===void 0?void 0:metaData.meta_title:metaData===null||metaData===void 0?void 0:metaData.productName)}),/*#__PURE__*/_jsx(\"meta\",{name:\"title\",content:metaData!==null&&metaData!==void 0&&metaData.meta_title?metaData===null||metaData===void 0?void 0:metaData.meta_title:\"\".concat(metaData===null||metaData===void 0?void 0:metaData.productName,\" - Sri Swaminathan\"),\"data-react-helmet\":\"true\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:metaData!==null&&metaData!==void 0&&metaData.meta_description?metaData===null||metaData===void 0?void 0:metaData.meta_description:\"\".concat(metaData===null||metaData===void 0?void 0:metaData.productName,\" \").concat((productData===null||productData===void 0?void 0:(_productData$product5=productData.product)===null||_productData$product5===void 0?void 0:_productData$product5.breadcrumb)!==undefined?\" in the \".concat(productData===null||productData===void 0?void 0:(_productData$product6=productData.product)===null||_productData$product6===void 0?void 0:(_productData$product7=_productData$product6.breadcrumb)===null||_productData$product7===void 0?void 0:(_productData$product8=_productData$product7.slice(-1))===null||_productData$product8===void 0?void 0:(_productData$product9=_productData$product8[0])===null||_productData$product9===void 0?void 0:_productData$product9.label):''),\"data-react-helmet\":\"true\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"keywords\",content:metaData===null||metaData===void 0?void 0:metaData.meta_keyword,\"data-react-helmet\":\"true\"})]})}),(productData===null||productData===void 0?void 0:productData.urlKey)!==\"no-route\"&&!pdpLoader?/*#__PURE__*/_jsxs(Stack,{className:\"product_details_container\",children:[/*#__PURE__*/_jsx(Stack,{className:\"default_conitaner_fluid\",children:/*#__PURE__*/_jsx(Stack,{className:\"section\",children:/*#__PURE__*/_jsx(Stack,{className:\"breadcrumbs-section\",children:/*#__PURE__*/_jsx(Breadcrumbs,{data:productData===null||productData===void 0?void 0:(_productData$product10=productData.product)===null||_productData$product10===void 0?void 0:_productData$product10.breadcrumb,productName:productData===null||productData===void 0?void 0:(_productData$product11=productData.product)===null||_productData$product11===void 0?void 0:_productData$product11.name})})})}),/*#__PURE__*/_jsxs(Stack,{className:\"default_conitaner\",children:[/*#__PURE__*/_jsxs(Stack,{className:\"pdp_details_blocks\",children:[/*#__PURE__*/_jsx(Media,{}),/*#__PURE__*/_jsx(Details,{}),productData!==null&&productData!==void 0&&(_productData$from_sam=productData.from_same_category)!==null&&_productData$from_sam!==void 0&&_productData$from_sam.length?/*#__PURE__*/_jsx(Samecategory,{}):'']}),/*#__PURE__*/_jsx(Stack,{className:\"related_products_container\",children:productData!==null&&productData!==void 0&&(_productData$related_=productData.related_product)!==null&&_productData$related_!==void 0&&_productData$related_.length?/*#__PURE__*/_jsx(Relatedproducts,{}):''})]})]}):/*#__PURE__*/_jsx(Stack,{className:\"product_details_container\"}),(productData===null||productData===void 0?void 0:productData.urlKey)==\"no-route\"?/*#__PURE__*/_jsx(Errorpage,{}):'',pdpLoader&&/*#__PURE__*/_jsx(Pageloader,{})]});};export default Index;","map":{"version":3,"names":["Stack","React","useEffect","useState","Breadcrumbs","Media","Samecategory","Details","Relatedproducts","useDispatch","useSelector","useLocation","useNavigate","productAPI","Pageloader","Helmet","Errorpage","Index","dispatch","location","navigate","entityId","state","from","console","log","productData","data","pathname","slice","urlKey","setUrlKey","pdpLoader","setPdpLoader","isCategory","window","isSearch","isPlp","productName","meta_title","meta_description","meta_keyword","metaData","setMetaData","product","name","breadcrumb","undefined","label","from_same_category","length","related_product"],"sources":["/var/www/html/react-project/src/Components/Product/Pdp/index.jsx"],"sourcesContent":["import { Stack } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport \"./styles.scss\";\nimport Breadcrumbs from './Breadcrumbs';\nimport Media from './Media';\nimport Samecategory from \"./Samecategory\";\nimport Details from \"./Details\";\nimport Relatedproducts from \"./Relatedproducts\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { productAPI } from \"./APIList\";\nimport Pageloader from \"../../Loader/Pageloader\";\nimport { Helmet } from \"react-helmet-async\";\nimport Errorpage from \"../../../Pages/UserAuth/Errorpage\";\n\nconst Index = () => {\n    const dispatch = useDispatch();\n    const location = useLocation();\n    const navigate = useNavigate();\n//     let { search } = useLocation();\n// console.log(\"search\",search);\n//     const query = new URLSearchParams(search);\n//     console.log(\"search query\",query.get('id'));\n    const entityId = location?.state?.from ;\n    // query.get('id')\n    // location?.state?.from ;\n    console.log(\"data entity\", entityId);\n    const { productData } = useSelector(state => {\n        return {\n            productData: state?.productData?.[0]?.data?.[0]\n        }\n    })\n    const [urlKey, setUrlKey] = useState(location?.pathname?.slice(1));\n    const [pdpLoader, setPdpLoader] = useState(true);\n    const isCategory = window?.location?.pathname?.slice(-13);\n    const isSearch = window?.location?.pathname?.slice(0, 7);\n    const isPlp = (isCategory === \"category.html\" || isSearch === \"/search\");\n    const [metaData, setMetaData] = useState({\n        productName: \"\",\n        meta_title: \"\",\n        meta_description: \"\",\n        meta_keyword: \"\"\n    });\n    useEffect(() => {\n        setUrlKey(location?.pathname?.slice(1))\n    }, [location?.pathname])\n\n    useEffect(() => {\n        console.log(\"data entity\", entityId);\n      }, [entityId]);\n    useEffect(() => {\n        if (isPlp === false) {\n            productAPI(dispatch, urlKey, entityId, navigate, setPdpLoader)\n        }\n    }, [urlKey])\n\n    useEffect(() => {\n        setMetaData({\n            productName: productData?.product?.name,\n            meta_title: productData?.product?.name,\n            meta_description: productData?.product?.meta_description,\n            meta_keyword: productData?.product?.meta_keyword\n        })\n    }, [productData])\n    return (\n        <>\n            <>\n                <Helmet>\n                    <meta charSet=\"utf-8\" />\n                    <title>{`Sri Swaminathan & Co Kumbakonam |  ${metaData?.meta_title ? metaData?.meta_title : metaData?.productName}`}</title>\n                    <meta\n                        name=\"title\"\n                        content={metaData?.meta_title ? metaData?.meta_title : `${metaData?.productName} - Sri Swaminathan`}\n                        data-react-helmet=\"true\"\n                    />\n                    <meta\n                        name=\"description\"\n                        content={metaData?.meta_description ? metaData?.meta_description : `${metaData?.productName} ${productData?.product?.breadcrumb !== undefined ? ` in the ${productData?.product?.breadcrumb?.slice(-1)?.[0]?.label}` : ''}`}\n                        data-react-helmet=\"true\"\n                    />\n                    <meta\n                        name=\"keywords\"\n                        content={metaData?.meta_keyword}\n                        data-react-helmet=\"true\"\n                    />\n                </Helmet>\n            </>\n            {\n                productData?.urlKey !== \"no-route\" && !pdpLoader?\n                    <Stack className='product_details_container'>\n                        <Stack className='default_conitaner_fluid'>\n                            <Stack className='section'>\n                                <Stack className='breadcrumbs-section'>\n                                    <Breadcrumbs\n                                        data={productData?.product?.breadcrumb}\n                                        productName={productData?.product?.name}\n                                    />\n                                </Stack>\n                            </Stack>\n                        </Stack>\n                        <Stack className='default_conitaner'>\n                            <Stack className='pdp_details_blocks'>\n                                <Media />\n                                <Details />\n                                {\n                                    productData?.from_same_category?.length ?\n                                        <Samecategory />\n                                        : ''\n                                }\n                            </Stack>\n                            <Stack className='related_products_container'>\n                                {\n                                    productData?.related_product?.length ?\n                                        <Relatedproducts />\n                                        : ''\n                                }\n                            </Stack>\n                        </Stack>\n                    </Stack>\n                    : <Stack className='product_details_container'></Stack>\n            }\n            {\n                productData?.urlKey == \"no-route\" ? <Errorpage /> : ''\n            }\n            {\n                pdpLoader && <Pageloader />\n            }\n        </>\n    )\n}\n\nexport default Index;"],"mappings":"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"},"metadata":{},"sourceType":"module"}