{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import\"./styles.scss\";import Successgif from\"../../../Assets/SuccessGif.gif\";import Failedif from\"../../../Assets/FailIcon.gif\";import{Stack,Typography,Box,Button}from'@mui/material';import{useSelector,useDispatch}from\"react-redux\";import{ACTION_ACTIONMESSAGE,ACTION_SHOWAUTHENTICATIONPOPUP,SessionExpiredLogout}from\"../../../Store/action\";import{useLocation,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(){var dispatch=useDispatch();var navigate=useNavigate();var location=useLocation();var _useSelector=useSelector(function(state){return{actionmessage:state===null||state===void 0?void 0:state.actionmessage};}),_useSelector$actionme=_useSelector.actionmessage,isSuccess=_useSelector$actionme.isSuccess,title=_useSelector$actionme.title,message=_useSelector$actionme.message,isError=_useSelector$actionme.isError,isWarning=_useSelector$actionme.isWarning,action=_useSelector$actionme.action,close=_useSelector$actionme.close,redirect=_useSelector$actionme.redirect,refreshPage=_useSelector$actionme.refreshPage,showPopup=_useSelector$actionme.showPopup,isSesstionTimeOut=_useSelector$actionme.isSesstionTimeOut;var timeoutRefpop=useRef();var closePopup=function closePopup(){if((location===null||location===void 0?void 0:location.pathname)==\"/resetpassword\"){navigate(\"/\");}if(isSesstionTimeOut){SessionExpiredLogout(dispatch);if(redirect){navigate(redirect);}}else{if((location===null||location===void 0?void 0:location.pathname)!==\"/checkout\"&&title==\"Login failed\"){dispatch(ACTION_SHOWAUTHENTICATIONPOPUP({loginReg:true,forgotPas:false,resetPass:false}));dispatch(ACTION_ACTIONMESSAGE({isSuccess:false,isWarning:false,isError:false,title:\"\",message:\"\",showPopup:false,isSesstionTimeOut:false}));}else{dispatch(ACTION_ACTIONMESSAGE({isSuccess:false,isWarning:false,isError:false,title:\"\",message:\"\",showPopup:false,isSesstionTimeOut:false}));if(redirect){navigate(redirect);}}if((location===null||location===void 0?void 0:location.pathname)==\"/myquote\"&&title==\"Login failed\"){// alert(\"Message pppup\")\ndispatch(ACTION_SHOWAUTHENTICATIONPOPUP({loginReg:false,forgotPas:false,resetPass:false}));}}};useEffect(function(){if(refreshPage==true){window.location.reload();}},[refreshPage]);useEffect(function(){timeoutRefpop.current=window.setTimeout(function(){closePopup();},5000);return function(){return clearInterval(timeoutRefpop.current);};},[showPopup]);return/*#__PURE__*/_jsx(Stack,{className:\"action-message-popup \".concat(isWarning==true?\"logout-popup\":\"action-message-popup\"),children:/*#__PURE__*/_jsxs(Stack,{className:\"container\",children:[!isSesstionTimeOut?/*#__PURE__*/_jsx(Box,{className:\"close-btn\",onClick:function onClick(){return closePopup();},children:/*#__PURE__*/_jsxs(\"svg\",{id:\"Group_3123\",\"data-name\":\"Group 3123\",xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"rect\",{id:\"Rectangle_2261\",\"data-name\":\"Rectangle 2261\",width:\"24\",height:\"24\",fill:\"#fff\"}),/*#__PURE__*/_jsx(\"g\",{id:\"close\",transform:\"translate(5.337 5.337)\",children:/*#__PURE__*/_jsx(\"g\",{id:\"Group_2837\",\"data-name\":\"Group 2837\",children:/*#__PURE__*/_jsx(\"path\",{id:\"Path_11420\",\"data-name\":\"Path 11420\",d:\"M10.517,9.29a.868.868,0,1,0-1.228,1.228L14.3,15.534,9.288,20.549a.868.868,0,1,0,1.228,1.228l5.016-5.015,5.015,5.015a.868.868,0,1,0,1.228-1.228l-5.015-5.015,5.015-5.015A.868.868,0,1,0,20.548,9.29l-5.015,5.015L10.517,9.29Z\",transform:\"translate(-9.034 -9.036)\",fill:\"#898d94\"})})})]})}):'',isSuccess&&/*#__PURE__*/_jsxs(Stack,{className:\"block success\",children:[/*#__PURE__*/_jsx(Box,{className:\"image-section\",children:/*#__PURE__*/_jsx(\"img\",{src:Successgif,alt:\"...\"})}),/*#__PURE__*/_jsx(Typography,{className:\"success title\",children:title}),/*#__PURE__*/_jsx(Typography,{className:\"info\",dangerouslySetInnerHTML:{__html:message}})]}),isError&&/*#__PURE__*/_jsxs(Stack,{className:\"block danger\",children:[/*#__PURE__*/_jsx(Box,{className:\"image-section\",children:/*#__PURE__*/_jsx(\"img\",{src:Failedif,alt:\"...\"})}),/*#__PURE__*/_jsx(Typography,{className:\"failed title\",children:title}),/*#__PURE__*/_jsx(Typography,{className:\"info\",dangerouslySetInnerHTML:{__html:message}})]}),isWarning&&/*#__PURE__*/_jsxs(Stack,{className:\"block warning\",children:[/*#__PURE__*/_jsx(Typography,{className:\"info\",dangerouslySetInnerHTML:{__html:message}}),/*#__PURE__*/_jsxs(Stack,{className:\"btn-block\",children:[/*#__PURE__*/_jsx(Button,{className:\"primary_default_btn\",onClick:action,children:\"Yes\"}),/*#__PURE__*/_jsx(Button,{className:\"outlined_default_btn\",onClick:close,children:\"Cancel\"})]})]})]})});};export default Index;","map":{"version":3,"names":["React","useEffect","useRef","Successgif","Failedif","Stack","Typography","Box","Button","useSelector","useDispatch","ACTION_ACTIONMESSAGE","ACTION_SHOWAUTHENTICATIONPOPUP","SessionExpiredLogout","useLocation","useNavigate","Index","dispatch","navigate","location","state","actionmessage","isSuccess","title","message","isError","isWarning","action","close","redirect","refreshPage","showPopup","isSesstionTimeOut","timeoutRefpop","closePopup","pathname","loginReg","forgotPas","resetPass","window","reload","current","setTimeout","clearInterval","__html"],"sources":["/var/www/html/react-project/src/Components/Model/Messagepopup/index.jsx"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport \"./styles.scss\";\nimport Successgif from \"../../../Assets/SuccessGif.gif\";\nimport Failedif from \"../../../Assets/FailIcon.gif\";\nimport { Stack, Typography, Box, Button } from '@mui/material';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { ACTION_ACTIONMESSAGE, ACTION_SHOWAUTHENTICATIONPOPUP, SessionExpiredLogout } from \"../../../Store/action\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\n\nconst Index = () => {\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const location = useLocation();\n    const { actionmessage: { isSuccess, title, message, isError, isWarning, action, close,\n        redirect, refreshPage, showPopup, isSesstionTimeOut\n    } } = useSelector(state => {\n        return {\n            actionmessage: state?.actionmessage\n        }\n    })\n    const timeoutRefpop = useRef();\n    const closePopup = () => {\n        if (location?.pathname == \"/resetpassword\") {\n            navigate(\"/\")\n        }\n        if (isSesstionTimeOut) {\n            SessionExpiredLogout(dispatch)\n            if (redirect) {\n                navigate(redirect)\n            }\n        } else {\n          \n            if (location?.pathname !== \"/checkout\" && title == \"Login failed\") {\n                dispatch(ACTION_SHOWAUTHENTICATIONPOPUP({\n                    loginReg: true,\n                    forgotPas: false,\n                    resetPass: false\n                }))\n                dispatch(ACTION_ACTIONMESSAGE({\n                    isSuccess: false,\n                    isWarning: false,\n                    isError: false,\n                    title: \"\",\n                    message: \"\",\n                    showPopup: false,\n                    isSesstionTimeOut: false\n                }))\n            } else {\n                dispatch(ACTION_ACTIONMESSAGE({\n                    isSuccess: false,\n                    isWarning: false,\n                    isError: false,\n                    title: \"\",\n                    message: \"\",\n                    showPopup: false,\n                    isSesstionTimeOut: false\n                }))\n                if (redirect) {\n                    navigate(redirect)\n                }\n            }\n            if(location?.pathname == \"/myquote\" && title==\"Login failed\"){\n                // alert(\"Message pppup\")\n                                dispatch(ACTION_SHOWAUTHENTICATIONPOPUP({\n                                    loginReg: false,\n                                    forgotPas: false,\n                                    resetPass: false\n                                }))\n                            }\n        }\n    }\n    useEffect(() => {\n        if (refreshPage == true) {\n            window.location.reload();\n        }\n    }, [refreshPage])\n    useEffect(() => {\n        timeoutRefpop.current = window.setTimeout(() => {\n            closePopup()\n        }, 5000);\n        return () => clearInterval(timeoutRefpop.current);\n    }, [showPopup])\n    return (\n        <Stack className={`action-message-popup ${isWarning == true ? \"logout-popup\" : \"action-message-popup\"}`}>\n            <Stack className=\"container\">\n                {\n                    !isSesstionTimeOut ?\n                        <Box className=\"close-btn\" onClick={() => closePopup()}>\n                            <svg id=\"Group_3123\" data-name=\"Group 3123\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                                <rect id=\"Rectangle_2261\" data-name=\"Rectangle 2261\" width=\"24\" height=\"24\" fill=\"#fff\" />\n                                <g id=\"close\" transform=\"translate(5.337 5.337)\">\n                                    <g id=\"Group_2837\" data-name=\"Group 2837\">\n                                        <path id=\"Path_11420\" data-name=\"Path 11420\" d=\"M10.517,9.29a.868.868,0,1,0-1.228,1.228L14.3,15.534,9.288,20.549a.868.868,0,1,0,1.228,1.228l5.016-5.015,5.015,5.015a.868.868,0,1,0,1.228-1.228l-5.015-5.015,5.015-5.015A.868.868,0,1,0,20.548,9.29l-5.015,5.015L10.517,9.29Z\" transform=\"translate(-9.034 -9.036)\" fill=\"#898d94\" />\n                                    </g>\n                                </g>\n                            </svg>\n                        </Box>\n                        : ''\n                }\n                {\n                    isSuccess &&\n                    <Stack className=\"block success\">\n                        <Box className=\"image-section\">\n                            <img src={Successgif} alt=\"...\" />\n                        </Box>\n                        <Typography className=\"success title\">{title}</Typography>\n                        <Typography className=\"info\" dangerouslySetInnerHTML={{ __html: message }}></Typography>\n                    </Stack>\n                }\n                {\n                    isError &&\n                    <Stack className=\"block danger\">\n                        <Box className=\"image-section\">\n                            <img src={Failedif} alt=\"...\" />\n                        </Box>\n                        <Typography className=\"failed title\">{title}</Typography>\n                        <Typography className=\"info\" dangerouslySetInnerHTML={{ __html: message }}></Typography>\n                    </Stack>\n                }\n                {\n                    isWarning &&\n                    <Stack className=\"block warning\">\n                        <Typography className=\"info\" dangerouslySetInnerHTML={{ __html: message }}></Typography>\n                        <Stack className=\"btn-block\">\n                            <Button className='primary_default_btn' onClick={action}>Yes</Button>\n                            <Button className='outlined_default_btn' onClick={close}>Cancel</Button>\n                        </Stack>\n                    </Stack>\n                }\n            </Stack>\n        </Stack>\n    )\n}\n\nexport default Index;"],"mappings":"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"},"metadata":{},"sourceType":"module"}