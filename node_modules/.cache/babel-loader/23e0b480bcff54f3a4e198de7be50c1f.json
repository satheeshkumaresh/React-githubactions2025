{"ast":null,"code":"import _slicedToArray from\"/var/www/html/react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Stack,Box}from'@mui/material';import React,{useEffect,useState}from'react';import\"./styles.scss\";import{ACTION_MYACCOUNTCURRENTPAGE,customerNewsLetter}from\"../../APIList\";import{useDispatch,useSelector}from\"react-redux\";import Checkbox from'@mui/material/Checkbox';import{useNavigate}from'react-router-dom';import FormGroup from'@mui/material/FormGroup';import FormControlLabel from'@mui/material/FormControlLabel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Index=function Index(_ref){var accountCurrentPage=_ref.accountCurrentPage;var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(function(state){return{token:state===null||state===void 0?void 0:state.token,userdata:state===null||state===void 0?void 0:state.userdata,loggedInUserData:state===null||state===void 0?void 0:state.loggedInUserData,actionmessage:state===null||state===void 0?void 0:state.actionmessage};}),token=_useSelector.token,userdata=_useSelector.userdata,loggedInUserData=_useSelector.loggedInUserData,actionmessage=_useSelector.actionmessage;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),subscribe=_useState2[0],setSubscribe=_useState2[1];var subscribeNewsletter=function subscribeNewsletter(){customerNewsLetter(token,userdata===null||userdata===void 0?void 0:userdata.id,dispatch,setSubscribe,subscribe,navigate,\"account\",actionmessage===null||actionmessage===void 0?void 0:actionmessage.isSesstionTimeOut);};useEffect(function(){setSubscribe(loggedInUserData===null||loggedInUserData===void 0?void 0:loggedInUserData.is_subscriber);},[loggedInUserData===null||loggedInUserData===void 0?void 0:loggedInUserData.is_subscriber]);useEffect(function(){dispatch(ACTION_MYACCOUNTCURRENTPAGE(\"Newsletter Subscriptions\"));},[]);return/*#__PURE__*/_jsxs(Stack,{className:\"newsletter-pages\",children:[/*#__PURE__*/_jsx(Stack,{className:\"section\",children:/*#__PURE__*/_jsxs(Stack,{className:\"main_block\",children:[/*#__PURE__*/_jsx(Box,{className:\"header page-title\",children:accountCurrentPage}),/*#__PURE__*/_jsx(Box,{className:\"subscribe-block\",children:/*#__PURE__*/_jsx(FormGroup,{children:/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{onChange:function onChange(e){if(e.target.checked==true){setSubscribe(true);}else{setSubscribe(false);}},checked:subscribe}),label:\"General Subscription\"})})})]})}),/*#__PURE__*/_jsxs(Box,{className:\"button-block\",children:[/*#__PURE__*/_jsx(Button,{className:\"save primary_default_btn\",onClick:function onClick(){return subscribeNewsletter();},children:\"Save\"}),/*#__PURE__*/_jsx(Button,{className:\"back primary_default_btn\",onClick:function onClick(){return navigate(-1);},children:\"Back\"})]})]});};export default Index;","map":{"version":3,"names":["Button","Stack","Box","React","useEffect","useState","ACTION_MYACCOUNTCURRENTPAGE","customerNewsLetter","useDispatch","useSelector","Checkbox","useNavigate","FormGroup","FormControlLabel","Index","accountCurrentPage","dispatch","navigate","state","token","userdata","loggedInUserData","actionmessage","subscribe","setSubscribe","subscribeNewsletter","id","isSesstionTimeOut","is_subscriber","e","target","checked"],"sources":["/var/www/html/react-project/src/Components/Myaccount/Main/pages/Newsletter/index.jsx"],"sourcesContent":["import { Button, Stack, Box } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport \"./styles.scss\";\nimport { ACTION_MYACCOUNTCURRENTPAGE, customerNewsLetter } from \"../../APIList\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Checkbox from '@mui/material/Checkbox';\nimport { useNavigate } from 'react-router-dom';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\n\nconst Index = ({ accountCurrentPage }) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { token, userdata, loggedInUserData, actionmessage } = useSelector(state => {\n    return {\n      token: state?.token,\n      userdata: state?.userdata,\n      loggedInUserData: state?.loggedInUserData,\n      actionmessage: state?.actionmessage\n    }\n  })\n  const [subscribe, setSubscribe] = useState(false);\n  const subscribeNewsletter = () => {\n    customerNewsLetter(token, userdata?.id, dispatch, setSubscribe, subscribe, navigate, \"account\", actionmessage?.isSesstionTimeOut)\n  }\n  useEffect(() => {\n    setSubscribe(loggedInUserData?.is_subscriber)\n  }, [loggedInUserData?.is_subscriber])\n  useEffect(() => {\n    dispatch(ACTION_MYACCOUNTCURRENTPAGE(\"Newsletter Subscriptions\"))\n  }, [])\n  return (\n    <Stack className=\"newsletter-pages\">\n      <Stack className='section'>\n        <Stack className=\"main_block\">\n          <Box className=\"header page-title\">{accountCurrentPage}</Box>\n          <Box className=\"subscribe-block\">\n            <FormGroup>\n              <FormControlLabel control={<Checkbox\n                onChange={(e) => {\n                  if (e.target.checked == true) {\n                    setSubscribe(true)\n                  } else {\n                    setSubscribe(false)\n                  }\n                }}\n                checked={subscribe} />}\n                label=\"General Subscription\"\n              />\n            </FormGroup>\n          </Box>\n        </Stack>\n      </Stack>\n      <Box className=\"button-block\">\n        <Button className='save primary_default_btn' onClick={() => subscribeNewsletter()}>Save</Button>\n        <Button className='back primary_default_btn' onClick={() => navigate(-1)}>Back</Button>\n      </Box>\n\n    </Stack>\n  )\n}\n\nexport default Index;"],"mappings":"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"},"metadata":{},"sourceType":"module"}